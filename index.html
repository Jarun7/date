<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
:root {
  --accent:#ff4ecd;
  --accent2:#6cf2ff;
}

* { box-sizing:border-box; }

body{
  margin:0;
  height:100vh;
  background:radial-gradient(circle at top,#1b1b2f,#050510 70%);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:system-ui;
  overflow:hidden;
  color:#fff;
}

.card{
  padding:48px;
  width:420px;
  border-radius:28px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(30px);
  text-align:center;
  z-index:2;
}

h1{
  margin:0 0 12px;
  background:linear-gradient(135deg,#fff,var(--accent2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

p{ opacity:.9; margin-bottom:40px; }

.buttons{
  display:flex;
  gap:20px;
  justify-content:center;
}

button{
  padding:16px 36px;
  border-radius:16px;
  border:none;
  font-size:17px;
  font-weight:600;
  cursor:pointer;
}

#yes{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#000;
}

#no{
  background:rgba(255,255,255,.15);
  color:#fff;
  border:1px solid rgba(255,255,255,.25);
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  z-index:9999;
}
</style>
</head>

<body>

<div class="card">
  <h1>üíù Valentine‚Äôs Day</h1>
  <p>Will you go on a Comic Con date with me?</p>
  <div class="buttons">
    <button id="yes">YES üíï</button>
    <button id="no">NO</button>
  </div>
</div>

<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");

const EDGE = 24;        // absolute safety margin
const ESCAPE_RADIUS = 160;

function viewport() {
  return window.visualViewport || {
    width: window.innerWidth,
    height: window.innerHeight
  };
}

function clamp(val,min,max){
  return Math.max(min,Math.min(max,val));
}

function fly() {
  const vp = viewport();
  const r = noBtn.getBoundingClientRect();

  const maxX = vp.width - r.width - EDGE;
  const maxY = vp.height - r.height - EDGE;

  let x = Math.random() * maxX;
  let y = Math.random() * maxY;

  x = clamp(x, EDGE, maxX);
  y = clamp(y, EDGE, maxY);

  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "none";
}

/* cursor proximity logic */
document.addEventListener("mousemove", e => {
  const r = noBtn.getBoundingClientRect();
  const dx = e.clientX - (r.left + r.width/2);
  const dy = e.clientY - (r.top + r.height/2);
  if (Math.hypot(dx,dy) < ESCAPE_RADIUS) fly();
});

/* touch + hover safety */
["mouseenter","mousedown","touchstart","click"].forEach(evt=>{
  noBtn.addEventListener(evt,e=>{
    e.preventDefault();
    fly();
  });
});

/* FINAL GUARANTEE LOOP ‚Äî cannot escape viewport */
function enforceBounds(){
  const vp = viewport();
  const r = noBtn.getBoundingClientRect();

  let x = r.left;
  let y = r.top;

  x = clamp(x, EDGE, vp.width - r.width - EDGE);
  y = clamp(y, EDGE, vp.height - r.height - EDGE);

  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  requestAnimationFrame(enforceBounds);
}
enforceBounds();

/* YES */
yesBtn.onclick = () => {
  noBtn.remove();
  yesBtn.textContent = "‚úì Confirmed!";
  yesBtn.disabled = true;
};
</script>

</body>
</html>
